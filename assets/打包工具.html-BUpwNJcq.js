import{_ as i,c as o,b as t,d as n,a as p,e as a,w as l,r,o as c}from"./app-Bq68UBLY.js";const u={},d={id:"介绍-1",tabindex:"-1"},v={class:"header-anchor",href:"#介绍-1"},k={id:"安装使用-1",tabindex:"-1"},m={class:"header-anchor",href:"#安装使用-1"};function b(g,s){const e=r("font");return c(),o("div",null,[s[7]||(s[7]=t(`<h2 id="rolldown" tabindex="-1"><a class="header-anchor" href="#rolldown"><span>Rolldown</span></a></h2><h3 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍"><span>介绍</span></a></h3><p>Rolldown是用Rust编写的专为Vite设计的打包构建工具，构建是rollup的10-30倍。</p><p>官方：<a href="https://rolldown.rs/" target="_blank" rel="noopener noreferrer">https://rolldown.rs/</a></p><h3 id="安装使用" tabindex="-1"><a class="header-anchor" href="#安装使用"><span>安装使用</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 全局</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> rolldown</span>
<span class="line"><span class="token comment"># 本地安装</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> rolldown</span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> rolldown --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="单行打包命令" tabindex="-1"><a class="header-anchor" href="#单行打包命令"><span>单行打包命令</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;build-iife&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rolldown src/index.js --format iife --output dist/bundle.js&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;build-cjs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rolldown src/index.js --format cjs --output dist/bundle.js&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;build-esm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rolldown src/main.js --format esm --output dist/bundle.js&quot;</span><span class="token punctuation">,</span>	</span>
<span class="line">    <span class="token string-property property">&quot;build-umd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rolldown src/index.js --format umd --output dist/bundle.js&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="配置文件多类型" tabindex="-1"><a class="header-anchor" href="#配置文件多类型"><span>配置文件多类型</span></a></h4>`,9)),n("p",null,[s[1]||(s[1]=a("新建配置文件 ",-1)),p(e,{style:{color:"rgb(9, 105, 218) !important"}},{default:l(()=>s[0]||(s[0]=[a("rolldown.config.js",-1)])),_:1,__:[0]})]),s[8]||(s[8]=t(`<div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code><span class="line"><span class="token selector">export default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token selector">input: &#39;src/main.js&#39;,</span>
<span class="line">  output: [</span>
<span class="line">    // ESM 格式</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">file</span><span class="token punctuation">:</span> <span class="token string">&#39;dist/canvas-utils.esm.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">format</span><span class="token punctuation">:</span> <span class="token string">&#39;esm&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">exports</span><span class="token punctuation">:</span> <span class="token string">&#39;default&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token selector">,</span>
<span class="line">    // CommonJS 格式</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">file</span><span class="token punctuation">:</span> <span class="token string">&#39;dist/canvas-utils.cjs.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">format</span><span class="token punctuation">:</span> <span class="token string">&#39;cjs&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token property">exports</span><span class="token punctuation">:</span> <span class="token string">&#39;auto&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token selector">,</span>
<span class="line">    // IIFE 格式</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token selector">file: &#39;dist/canvas-utils.min.js&#39;,</span>
<span class="line">      format: &#39;iife&#39;,</span>
<span class="line">      name: &#39;CanvasUtils&#39;,</span>
<span class="line">      globals:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> // 如果有外部依赖在这里声明</span>
<span class="line">      <span class="token property">plugins</span><span class="token punctuation">:</span> []  // 可以添加压缩插件</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token selector">],</span>
<span class="line">  // 确保不会错误处理浏览器API</span>
<span class="line">  context: &#39;window&#39;,</span>
<span class="line">  // 外部依赖声明</span>
<span class="line">  external: [],</span>
<span class="line">  // 启用摇树优化</span>
<span class="line">  treeshake: true,</span>
<span class="line">  // 错误处理</span>
<span class="line">  onwarn(warning, warn)</span> <span class="token punctuation">{</span></span>
<span class="line">    if <span class="token punctuation">(</span>warning.code === <span class="token string">&#39;THIS_IS_UNDEFINED&#39;</span><span class="token punctuation">)</span> return<span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">warn</span><span class="token punctuation">(</span>warning<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),n("p",null,[s[3]||(s[3]=a("修改 ",-1)),p(e,{style:{color:"rgb(31, 35, 40)"}},{default:l(()=>s[2]||(s[2]=[a("package.json 文件",-1)])),_:1,__:[2]})]),s[9]||(s[9]=t(`<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rolldown --config rolldown.config.js&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="rollup" tabindex="-1"><a class="header-anchor" href="#rollup"><span>Rollup</span></a></h2>`,2)),n("h3",d,[n("a",v,[n("span",null,[p(e,{style:{color:"rgb(44, 44, 54)"}},{default:l(()=>s[4]||(s[4]=[a("介绍",-1)])),_:1,__:[4]})])])]),p(e,{style:{color:"rgb(44, 44, 54)"}},{default:l(()=>s[5]||(s[5]=[a("Rollup 是用 JavaScript 编写的打包工具，意味着开发者可以利用庞大的 npm 包库来扩展 Rollup 的功能。",-1)])),_:1,__:[5]}),n("h3",k,[n("a",m,[n("span",null,[p(e,{style:{color:"rgb(44, 44, 54)"}},{default:l(()=>s[6]||(s[6]=[a("安装使用",-1)])),_:1,__:[6]})])])]),s[10]||(s[10]=t(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 全局安装</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--global</span> rollup</span>
<span class="line"><span class="token comment"># 本地安装</span></span>
<span class="line"><span class="token function">npm</span> <span class="token function">install</span> rollup --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="单行打包命令-1" tabindex="-1"><a class="header-anchor" href="#单行打包命令-1"><span>单行打包命令</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;build-cjs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup src/main.js -o bundle.js -f cjs&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;build-umd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup src/main.js -o bundle.js -f umd&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;build-esm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup src/main.js -o bundle.js -f esm&quot;</span><span class="token punctuation">,</span>	</span>
<span class="line">    <span class="token string-property property">&quot;build-iife&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npx rollup src/main.js -o bundle.js -f iife&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="批量打包多类型" tabindex="-1"><a class="header-anchor" href="#批量打包多类型"><span>批量打包多类型</span></a></h4><p>新建配置文件 rollup.config.js</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// rollup.config.js</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">&#39;src/main.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span> <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;dist/esm.js&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;esm&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span> <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;dist/cjs.js&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span> <span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token string">&#39;dist/iife.js&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;iife&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;MyLib&#39;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改配置文件package.json</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rollup -c&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8))])}const f=i(u,[["render",b]]),y=JSON.parse('{"path":"/mds/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7.html","title":"","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Rolldown","slug":"rolldown","link":"#rolldown","children":[{"level":3,"title":"介绍","slug":"介绍","link":"#介绍","children":[]},{"level":3,"title":"安装使用","slug":"安装使用","link":"#安装使用","children":[]}]},{"level":2,"title":"Rollup","slug":"rollup","link":"#rollup","children":[{"level":3,"title":"介绍","slug":"介绍-1","link":"#介绍-1","children":[]},{"level":3,"title":"安装使用","slug":"安装使用-1","link":"#安装使用-1","children":[]}]}],"git":{},"filePathRelative":"mds/打包工具.md","excerpt":"<h2>Rolldown</h2>\\n<h3>介绍</h3>\\n<p>Rolldown是用Rust编写的专为Vite设计的打包构建工具，构建是rollup的10-30倍。</p>\\n<p>官方：<a href=\\"https://rolldown.rs/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://rolldown.rs/</a></p>\\n<h3>安装使用</h3>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\"><pre><code><span class=\\"line\\"><span class=\\"token comment\\"># 全局</span></span>\\n<span class=\\"line\\"><span class=\\"token function\\">npm</span> <span class=\\"token function\\">install</span> <span class=\\"token parameter variable\\">-g</span> rolldown</span>\\n<span class=\\"line\\"><span class=\\"token comment\\"># 本地安装</span></span>\\n<span class=\\"line\\"><span class=\\"token function\\">npm</span> <span class=\\"token function\\">install</span> <span class=\\"token parameter variable\\">-D</span> rolldown</span>\\n<span class=\\"line\\"><span class=\\"token function\\">npm</span> <span class=\\"token function\\">install</span> rolldown --save-dev</span>\\n<span class=\\"line\\"></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}');export{f as comp,y as data};
