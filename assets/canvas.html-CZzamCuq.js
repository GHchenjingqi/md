import{_ as n,o as s,c as a,a as t}from"./app-DFbXBJNa.js";const p={},e=t(`<h2 id="canvas基础知识" tabindex="-1"><a class="header-anchor" href="#canvas基础知识"><span>Canvas基础知识</span></a></h2><p>Canvas，是html5新增的一个标签。用于展示通过 <code>JS</code>在这个标签上绘制各种图案。</p><h3 id="一-canvas和svg的区别" tabindex="-1"><a class="header-anchor" href="#一-canvas和svg的区别"><span>一.canvas和svg的区别</span></a></h3><ul><li><p>语言不通，canvas是通过js绘制的2D图像，svg使用xml描述2D图形；</p></li><li><p>svg是矢量图形，不依赖分辨率，不适合做游戏等大型渲染的程序；Canvas依赖分辨率，用于开发图形秘籍类的游戏。</p></li></ul><h3 id="二-canvas使用" tabindex="-1"><a class="header-anchor" href="#二-canvas使用"><span>二.canvas使用</span></a></h3><p>在html中添加canvas标签:</p><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span> 
    你的浏览器不支持canvas
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在js中创建canvas画布进行绘制。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
<span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-画矩形-fillrect" tabindex="-1"><a class="header-anchor" href="#_1-画矩形-fillrect"><span>1.画矩形 fillRect</span></a></h4><ul><li><p>fillStyle 填充颜色样式</p></li><li><p>fillRect 绘制矩形</p></li><li><p>strockRect 绘制描边矩形</p></li><li><p>clearRect 清除矩形区域的内容</p></li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//简单的canvas绘制矩形的方法</span>
	<span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
	<span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>
	ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;#000000&quot;</span><span class="token punctuation">;</span><span class="token comment">//绘制样式</span>
	ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制形状，填充矩形fillRect(x轴位置,y轴位置,宽度,高度);</span>
	 <span class="token comment">//描边矩形strockRect(x, y, width, height)；</span>
	 <span class="token comment">//清除矩形区域clearRect(x, y, widh, height)</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-画直线" tabindex="-1"><a class="header-anchor" href="#_2-画直线"><span>2.画直线</span></a></h4><p>画直线步骤：开始创建路径beginPath =&gt; 移动到起点moveTo =&gt; 绘制终点lineTo =&gt; 绘制线宽lineWidth =&gt; 结束路径closePath =&gt; 路径描边stroke。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//绘制线段</span>
	<span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
	<span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>

	ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制路径开始</span>
	ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制路径起点</span>
	ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制路径的结束点</span>
	ctx<span class="token punctuation">.</span>lineWidth<span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token comment">//线宽，默认是1.0</span>
	ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//闭合路径</span>
	ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制线段,默认为黑色</span>

<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-画三角形" tabindex="-1"><a class="header-anchor" href="#_3-画三角形"><span>3.画三角形</span></a></h4><p>绘制三角形方法和绘制直线一样，需要通过路径创建形状，然后填充颜色或者描边。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//填充三角形</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>
    
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制路径开始</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制第一个顶点</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制第二个顶点</span>
    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制第三个顶点</span>
    ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//闭合路径</span>
    
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制线段,默认为黑色</span>
    <span class="token comment">// 也可以使用stroke绘制描边三角形 ctx.stroke();//绘制线段,默认为黑色</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-画圆形" tabindex="-1"><a class="header-anchor" href="#_4-画圆形"><span>4.画圆形</span></a></h4><p>通过 arc 方法绘制闭合路径：</p><ul><li><p>arc(x, y, r, startAngle, endAngle, anticlockwise):</p><p>以(x, y)为圆心，以r为半径，从 startAngle弧度开始到endAngle弧度结束。anticlosewise是布尔值，true表示逆时针，false表示顺时针。(默认是顺时针)</p></li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//简单的canvas绘制矩形的方法</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//填充</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-画弧线" tabindex="-1"><a class="header-anchor" href="#_5-画弧线"><span>5.画弧线</span></a></h4><p>绘制弧线有2个方法，一种是arc方法，另外一种是使用arcTo方法实现。</p><ul><li><p>arcTo(x,y,m,n,r)</p><p>以控制点1（x,y) 和控制点2（m,n) r是弧线半径。</p></li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//填充圆弧</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制路径开始</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arcTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制线段,默认为黑色</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-贝塞尔曲线" tabindex="-1"><a class="header-anchor" href="#_6-贝塞尔曲线"><span>6.贝塞尔曲线</span></a></h4><ul><li>quadraticCurveTo 绘制贝塞尔一次二次曲线</li><li>bezierCurveTo 绘制贝塞尔三次曲线</li></ul><p>无论绘制贝塞尔任何曲线，都需要先移动到起点位置，再创建控制点。如果没有起点，quadraticCurveTo 绘制成直线。</p><p>绘制步骤：beginPath =&gt;moveTo =&gt; quadraticCurveTo =&gt;stroke</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//贝塞尔一次，二次曲线quadraticCurveTo</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>
    
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制路径开始</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制第一个顶点，没有起点，贝塞尔曲线是一次直线</span>
    ctx<span class="token punctuation">.</span><span class="token function">quadraticCurveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//贝塞尔曲线</span>
    
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制线段,默认为黑色</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//贝塞尔三次次曲线bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)：</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>
    
    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制路径开始</span>
    ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制第一个顶点，可以4个点控制</span>
    <span class="token keyword">var</span> cp1x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>cp1y<span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span><span class="token comment">//控制点1</span>
    <span class="token keyword">var</span> cp2x <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span>cp2y<span class="token operator">=</span> <span class="token number">46</span><span class="token punctuation">;</span><span class="token comment">//控制点2</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">180</span><span class="token punctuation">,</span>y<span class="token operator">=</span> <span class="token number">46</span><span class="token punctuation">;</span><span class="token comment">//控制点2</span>
    ctx<span class="token punctuation">.</span><span class="token function">bezierCurveTo</span><span class="token punctuation">(</span>cp1x<span class="token punctuation">,</span> cp1y<span class="token punctuation">,</span> cp2x<span class="token punctuation">,</span> cp2y<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//至少三个点</span>
    
    ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//绘制线段,默认为黑色</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_7-虚线" tabindex="-1"><a class="header-anchor" href="#_7-虚线"><span>7.虚线</span></a></h4><p>canvas 通过 setLineDash 设置 实线长度和间隔 和lineDashOffset设置偏移量，最后使用描边绘制形状。就得到了对应虚线的形状了。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//虚线</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>

    ctx<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [实线长度, 间隙长度]</span>
    ctx<span class="token punctuation">.</span>lineDashOffset <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">//lineDashOffset属性设置起始偏移量</span>
    
    ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">,</span> <span class="token number">210</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-画文字" tabindex="-1"><a class="header-anchor" href="#_8-画文字"><span>8.画文字</span></a></h4><p>canvas使用 fillText绘制文字。</p><ul><li><p>fillText(text, x, y [, maxWidth])</p><p>在指定的(x,y)位置填充指定的文本，绘制的最大宽度是可选的.</p></li><li><p>strokeText(text, x, y [, maxWidth])</p><p>在指定的(x,y)位置绘制描边文字，绘制的最大宽度是可选的</p></li></ul><p>文字样式可选属性：</p><ul><li>font 文字大小和样式</li><li>textAlign 对齐方式:center,left,right。</li><li>textBaseline 基线对齐方式：top, hanging, middle, alphabetic, ideographic, bottom。</li><li>direction 文本方向：ltr, rtl, inherit。默认值是 inherit。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//虚线</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>

    ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">&quot;20px sans-serif&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 文字样式</span>
    ctx<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 对齐方式</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">&quot;天若有情&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_9-移动-translate" tabindex="-1"><a class="header-anchor" href="#_9-移动-translate"><span>9.移动 translate</span></a></h4><p>translate坐标<strong>原点移动</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">/</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>
    
    ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//保存坐原点平移之前的状态</span>
    ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//恢复到最初状态</span>
    ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_10-旋转-rotate" tabindex="-1"><a class="header-anchor" href="#_10-旋转-rotate"><span>10.旋转 rotate</span></a></h4><p>使用 <strong>rotate</strong> 旋转坐标轴旋转的角度(angle)，它是顺时针方向的，以弧度为单位的值。旋转的中心是坐标原点。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;cas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

    ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span> <span class="token operator">*</span> <span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_11-变形-transform" tabindex="-1"><a class="header-anchor" href="#_11-变形-transform"><span>11.变形 transform</span></a></h4><p>transform变形矩阵</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;tou&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>

    ctx<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_12-裁剪-clip" tabindex="-1"><a class="header-anchor" href="#_12-裁剪-clip"><span>12.裁剪 clip</span></a></h4><p>clip()把已经创建的路径转换成裁剪路径。</p><p>裁剪路径的作用是遮罩。只显示裁剪路径内的区域，裁剪路径外的区域会被隐藏。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;tou&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>

    ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;pink&quot;</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_13-形状合成-globalcompositeoperation" tabindex="-1"><a class="header-anchor" href="#_13-形状合成-globalcompositeoperation"><span>13.形状合成 globalCompositeOperation</span></a></h4><p>接收参数：</p><ul><li>source-over(default)这是默认设置，新图像会覆盖在原有图像。</li><li>source-in 仅仅会出现新图像与原来图像重叠的部分，其他区域都变成透明的。(包括其他的老图像区域也会透明)</li><li>source-out仅仅显示新图像与老图像没有重叠的部分，其余部分全部透明。(老图像也不显示)</li><li>source-atop新图像仅仅显示与老图像重叠区域。老图像仍然可以显示。</li><li>destination-over新图像会在老图像的下面。</li><li>destination-in 仅仅新老图像重叠部分的老图像被显示，其他区域全部透明。</li><li>destination-out仅仅老图像与新图像没有重叠的部分。 注意显示的是老图像的部分区域。</li><li>destination-atop 老图像仅仅仅仅显示重叠部分，新图像会显示在老图像的下面。</li><li>lighter 新老图像都显示，但是重叠区域的颜色做加处理</li><li>darken 保留重叠部分最黑的像素。(每个颜色位进行比较，得到最小的)blue: #0000ff red: #ff0000 所以重叠部分的颜色：#000000</li><li>lighten 保证重叠部分最量的像素。(每个颜色位进行比较，得到最大的)blue: #0000ff red: #ff0000 所以重叠部分的颜色：#ff00ff</li><li>xor 重叠部分会变成透明</li><li>copy 只有新图像会被保留，其余的全部被清除(边透明)</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//globalCompositeOperation 合成</span>
    <span class="token keyword">var</span> cv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;tou&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取canvas画布渲染盒子</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>cv<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//检测是否支持画布</span>
    <span class="token keyword">var</span> ctx <span class="token operator">=</span> cv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建二维画布</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    ctx<span class="token punctuation">.</span>globalCompositeOperation <span class="token operator">=</span> <span class="token string">&quot;source-in&quot;</span><span class="token punctuation">;</span> <span class="token comment">//全局合成操作</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_14-颜色" tabindex="-1"><a class="header-anchor" href="#_14-颜色"><span>14.颜色</span></a></h4><ul><li>fillStyle - 填充颜色</li><li>strokeStyle - 描边颜色</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>ctx.fillStyle = &quot;red&quot;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_15-渐变颜色" tabindex="-1"><a class="header-anchor" href="#_15-渐变颜色"><span>15.渐变颜色</span></a></h4><h5 id="线性渐变-createlineargradient-x1-y1-x2-y2" tabindex="-1"><a class="header-anchor" href="#线性渐变-createlineargradient-x1-y1-x2-y2"><span>线性渐变：createLinearGradient(x1,y1,x2,y2)</span></a></h5><p>根据 2个坐标点 决定线性渐变的方向。</p><p>通过addColorStop 增加渐变的控制点颜色。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 使用 Path2D 代理路径</span>
<span class="token keyword">let</span> arx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path2D</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
arx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span>
ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token string">&#39;5&#39;</span>

<span class="token comment">// 定义渐变色 ctx.createLinearGradient(x,y, x2, y2)</span>
<span class="token keyword">let</span> linnerColor <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>
linnerColor<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">)</span>
linnerColor<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;blue&#39;</span><span class="token punctuation">)</span>
ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> linnerColor

ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span>arx<span class="token punctuation">)</span>
ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="径向渐变-createradialgradient-x-y-r-x2-y2-r2" tabindex="-1"><a class="header-anchor" href="#径向渐变-createradialgradient-x-y-r-x2-y2-r2"><span>径向渐变：createRadialGradient(x,y,r, x2, y2,r2)</span></a></h5><p>根据2个圆绘制径向渐变。</p><p>通过addColorStop 增加渐变颜色。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">let</span> RadialrColor <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createRadialGradient</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
RadialrColor<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">)</span>
RadialrColor<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;blue&#39;</span><span class="token punctuation">)</span>
ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> RadialrColor
ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_16-背景填充-createpattern" tabindex="-1"><a class="header-anchor" href="#_16-背景填充-createpattern"><span>16.背景填充 createPattern</span></a></h4><p><em>context</em>.createPattern(<em>image</em>,&quot;repeat|repeat-x|repeat-y|no-repeat&quot;);</p><p>该方法用于 刮奖效果</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">let</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;../hd.png&quot;</span>
img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> pat<span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createPattern</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token string">&quot;repeat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span>
    <span class="token comment">// 缩放 scale(横比例，纵比例)</span>
    ctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">)</span>
    <span class="token comment">// 填充</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> pat
    ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,74),c=[e];function o(l,u){return s(),a("div",null,c)}const k=n(p,[["render",o],["__file","canvas.html.vue"]]),r=JSON.parse('{"path":"/guide/JavaScript/canvas.html","title":"","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"Canvas基础知识","slug":"canvas基础知识","link":"#canvas基础知识","children":[{"level":3,"title":"一.canvas和svg的区别","slug":"一-canvas和svg的区别","link":"#一-canvas和svg的区别","children":[]},{"level":3,"title":"二.canvas使用","slug":"二-canvas使用","link":"#二-canvas使用","children":[]}]}],"git":{"updatedTime":1712798294000,"contributors":[{"name":"陈小知","email":"cjq314@qq.com","commits":1}]},"filePathRelative":"guide/JavaScript/canvas.md","excerpt":"<h2>Canvas基础知识</h2>\\n<p>Canvas，是html5新增的一个标签。用于展示通过 <code>JS</code>在这个标签上绘制各种图案。</p>\\n<h3>一.canvas和svg的区别</h3>\\n<ul>\\n<li>\\n<p>语言不通，canvas是通过js绘制的2D图像，svg使用xml描述2D图形；</p>\\n</li>\\n<li>\\n<p>svg是矢量图形，不依赖分辨率，不适合做游戏等大型渲染的程序；Canvas依赖分辨率，用于开发图形秘籍类的游戏。</p>\\n</li>\\n</ul>\\n<h3>二.canvas使用</h3>\\n<p>在html中添加canvas标签:</p>\\n<div class=\\"language-html\\" data-ext=\\"html\\" data-title=\\"html\\"><pre class=\\"language-html\\"><code><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>canvas</span> <span class=\\"token attr-name\\">id</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>cas<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">width</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>300<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">height</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>300<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">&gt;</span></span> \\n    你的浏览器不支持canvas\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>canvas</span><span class=\\"token punctuation\\">&gt;</span></span>\\n</code></pre></div>"}');export{k as comp,r as data};
