<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="stylesheet" href="/md/css/index.css"><title>知识库</title><meta name="description" content="陈小知&QUX · 前端笔记">
    <link rel="preload" href="/md/assets/style-D3I1LDHg.css" as="style"><link rel="stylesheet" href="/md/assets/style-D3I1LDHg.css">
    <link rel="modulepreload" href="/md/assets/app-DMoYNb1f.js"><link rel="modulepreload" href="/md/assets/知识点补充.html-BH-kVjhL.js">
    <link rel="prefetch" href="/md/assets/knows.html-CZxq_jiV.js" as="script"><link rel="prefetch" href="/md/assets/index.html-B-_R5ADJ.js" as="script"><link rel="prefetch" href="/md/assets/ajax基础及封装.html-BndhQROm.js" as="script"><link rel="prefetch" href="/md/assets/array.html-pFjYUXOF.js" as="script"><link rel="prefetch" href="/md/assets/audio音频可视化.html-CxAd1Ws1.js" as="script"><link rel="prefetch" href="/md/assets/axios基础及封装.html-CyGXFMec.js" as="script"><link rel="prefetch" href="/md/assets/blender 快捷键.html-B3wtdXqA.js" as="script"><link rel="prefetch" href="/md/assets/cannonjs物理碰撞.html-Cj1A4yrG.js" as="script"><link rel="prefetch" href="/md/assets/canvas.html-CyFuHjeO.js" as="script"><link rel="prefetch" href="/md/assets/CSS媒体@media查询.html-B57WDTFj.js" as="script"><link rel="prefetch" href="/md/assets/CSS巧技.html-t6nZzxCd.js" as="script"><link rel="prefetch" href="/md/assets/docker使用.html-B3kRrCA2.js" as="script"><link rel="prefetch" href="/md/assets/echarts 在vue中案例.html-C5b4ac-O.js" as="script"><link rel="prefetch" href="/md/assets/echart使用技巧.html-CrBUbPNt.js" as="script"><link rel="prefetch" href="/md/assets/Electron-js.html-Bxu5xI7A.js" as="script"><link rel="prefetch" href="/md/assets/electron桌面应用.html-Cfs776Ry.js" as="script"><link rel="prefetch" href="/md/assets/ES新特性.html-C-aYEjpf.js" as="script"><link rel="prefetch" href="/md/assets/express搭建.html-rVJaaWWq.js" as="script"><link rel="prefetch" href="/md/assets/Flutter语法知识.html-CMH8uPMb.js" as="script"><link rel="prefetch" href="/md/assets/GUI.js 使用.html-Oud_0OlH.js" as="script"><link rel="prefetch" href="/md/assets/hammerjs 手势插件.html-DO0OJdSi.js" as="script"><link rel="prefetch" href="/md/assets/http面试题.html-D_9FSuaM.js" as="script"><link rel="prefetch" href="/md/assets/IntersectionObserver重叠观察器.html-B-2VMXPO.js" as="script"><link rel="prefetch" href="/md/assets/java基础.html-BaeltkCg.js" as="script"><link rel="prefetch" href="/md/assets/JS模块化.html-PUwJ88_c.js" as="script"><link rel="prefetch" href="/md/assets/live-server.html-BfiaRnYL.js" as="script"><link rel="prefetch" href="/md/assets/npm常用命令.html-BoNBGZbv.js" as="script"><link rel="prefetch" href="/md/assets/Nuxtjs使用.html-B7302hxd.js" as="script"><link rel="prefetch" href="/md/assets/onlyoffice8.0插件开发.html-ByZpQ2dU.js" as="script"><link rel="prefetch" href="/md/assets/Pinia状态管理.html-CqoxsLDX.js" as="script"><link rel="prefetch" href="/md/assets/PostMessage使用.html-irHd_-NG.js" as="script"><link rel="prefetch" href="/md/assets/PWA 离线桌面应用.html-CqMPswKb.js" as="script"><link rel="prefetch" href="/md/assets/python爬虫.html-HzXbbI5n.js" as="script"><link rel="prefetch" href="/md/assets/React入门.html-Dcvv4sUA.js" as="script"><link rel="prefetch" href="/md/assets/Rollup打包.html-Ct5Yoyih.js" as="script"><link rel="prefetch" href="/md/assets/Router路由.html-pEsX-igE.js" as="script"><link rel="prefetch" href="/md/assets/Scanner类.html-BOZ-vCBo.js" as="script"><link rel="prefetch" href="/md/assets/sql命令.html-BG1VHMaD.js" as="script"><link rel="prefetch" href="/md/assets/sql基础.html-B8xnl1C7.js" as="script"><link rel="prefetch" href="/md/assets/Svg及svg运动.html-BHc57_RG.js" as="script"><link rel="prefetch" href="/md/assets/threeJS 入门.html-CQeS_RoD.js" as="script"><link rel="prefetch" href="/md/assets/tsconfig.json说明.html-BOL4QoSG.js" as="script"><link rel="prefetch" href="/md/assets/TS安装及优势.html-BaqA-pul.js" as="script"><link rel="prefetch" href="/md/assets/TS的对象.html-CRyN-lF3.js" as="script"><link rel="prefetch" href="/md/assets/TS类型.html-DjskCSt9.js" as="script"><link rel="prefetch" href="/md/assets/TS面试题.html-CwssVVQG.js" as="script"><link rel="prefetch" href="/md/assets/vue2手撕源码.html-DC_kXadI.js" as="script"><link rel="prefetch" href="/md/assets/vue2项目自定义指令使用案例-按钮鉴权功能.html-CQdhHaWy.js" as="script"><link rel="prefetch" href="/md/assets/vue3安装与使用.html-RUIqJWg2.js" as="script"><link rel="prefetch" href="/md/assets/vue3实战记录.html-p_GUspaZ.js" as="script"><link rel="prefetch" href="/md/assets/vue3语法.html-CFzjRVKp.js" as="script"><link rel="prefetch" href="/md/assets/vuex状态管理.html-CuXlNxXP.js" as="script"><link rel="prefetch" href="/md/assets/vue面试题.html-C7pFDjc1.js" as="script"><link rel="prefetch" href="/md/assets/Web Speech API 前端TTS 语音识别和语言合成.html-DGPBCQfo.js" as="script"><link rel="prefetch" href="/md/assets/WebGL.html-BFbHc9bi.js" as="script"><link rel="prefetch" href="/md/assets/webpack打包.html-Cb4YTSN-.js" as="script"><link rel="prefetch" href="/md/assets/WebSocket使用.html-CpNwVxiE.js" as="script"><link rel="prefetch" href="/md/assets/wordpress数据库.html-D9P80K7C.js" as="script"><link rel="prefetch" href="/md/assets/Worker线程使用.html-XEqqEta1.js" as="script"><link rel="prefetch" href="/md/assets/《产品经理方法论》笔记.html-D6RPrqIk.js" as="script"><link rel="prefetch" href="/md/assets/事件循环.html-DExzf0DY.js" as="script"><link rel="prefetch" href="/md/assets/前端混合模式.html-BHu-sCt-.js" as="script"><link rel="prefetch" href="/md/assets/对象描述符.html-CJTF4q9e.js" as="script"><link rel="prefetch" href="/md/assets/小程序发布.html-BvSMQuHZ.js" as="script"><link rel="prefetch" href="/md/assets/常用算法.html-Dmsu0RrL.js" as="script"><link rel="prefetch" href="/md/assets/微信小程序.html-Fc2nO--3.js" as="script"><link rel="prefetch" href="/md/assets/渲染原理.html-CC0fr3h1.js" as="script"><link rel="prefetch" href="/md/assets/着色器shader入门.html-By7ezYfD.js" as="script"><link rel="prefetch" href="/md/assets/网络安全.html-D8EwPkAF.js" as="script"><link rel="prefetch" href="/md/assets/跨域解决方案.html-BHpZDbcK.js" as="script"><link rel="prefetch" href="/md/assets/键盘事件及其属性.html-DZ753SDm.js" as="script"><link rel="prefetch" href="/md/assets/面试题.html-xQXRbABc.js" as="script"><link rel="prefetch" href="/md/assets/高德地图api.html-JXwh4hHU.js" as="script"><link rel="prefetch" href="/md/assets/404.html-CEUBlOJ9.js" as="script"><link rel="prefetch" href="/md/assets/SearchResult-BwzfhvI8.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/md/"><img class="vp-site-logo" src="/md/assets/img/logo.png" alt="知识库"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">知识库</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/md/" aria-label="主页"><!--[--><!--[--><!--]--><!--]-->主页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/md/knows.html" aria-label="知识库"><!--[--><!--[--><!--]--><!--]-->知识库<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://ghchenjingqi.github.io/home/" aria-label="GitHOME" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHOME<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/GHchenjingqi" aria-label="Github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Github<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><button type="button" class="slimsearch-button" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="slimsearch-placeholder">Search</div><div class="slimsearch-key-hints"><kbd class="slimsearch-key">Ctrl</kbd><kbd class="slimsearch-key">K</kbd></div></button><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/md/" aria-label="主页"><!--[--><!--[--><!--]--><!--]-->主页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/md/knows.html" aria-label="知识库"><!--[--><!--[--><!--]--><!--]-->知识库<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://ghchenjingqi.github.io/home/" aria-label="GitHOME" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHOME<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/GHchenjingqi" aria-label="Github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Github<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading"> <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h3 id="_1-websocket" tabindex="-1"><a class="header-anchor" href="#_1-websocket"><span>1.WebSocket</span></a></h3><p>WebSocket可以发送文本，也可以发送二进制数据（blob对象或Arraybuffer对象）</p><p>WebSocket没有同源限制，客户端可以与任意服务器通信。</p><p>WebSocket协议标识符是ws（握手http）（如果加密，则为wss（tcp +TLS)），服务器网址就是 URL。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// 创建 WebSocket 实例，连接到服务器</span></span>
<span class="line"><span class="token keyword">const</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">&#39;ws://*&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 监听连接建立事件</span></span>
<span class="line">socket<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;WebSocket 连接已建立&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 监听服务器发送的消息事件</span></span>
<span class="line">socket<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;收到服务器消息: &#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 监听连接关闭事件</span></span>
<span class="line">socket<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;WebSocket 连接已关闭&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 监听错误事件</span></span>
<span class="line">socket<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;WebSocket 发生错误: &#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> sendMessageButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;sendMessage&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">sendMessageButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>socket<span class="token punctuation">.</span>readyState <span class="token operator">===</span> WebSocket<span class="token punctuation">.</span><span class="token constant">OPEN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 向服务器发送消息</span></span>
<span class="line">    socket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;Hello, server!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-web-workers" tabindex="-1"><a class="header-anchor" href="#_2-web-workers"><span>2.<!----></span></a></h3><!----><p><strong><!----></strong><!----></p><!----><p><strong><!----></strong><!----></p><ul><li><!----></li><li><!----></li><li><!----></li></ul><p><strong><!----></strong><!----></p><ul><li>专用 Worker，单个页面使用</li><li>共享 Worker，多个页面公用</li></ul><p><strong><!----></strong><!----></p><ul><li><strong><!----></strong></li><li><strong><!----></strong></li><li><strong><!----></strong></li><li><strong><!----></strong></li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// worker.js</span></span>
<span class="line"><span class="token comment">// 监听主线程发送的消息</span></span>
<span class="line">self<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 获取主线程发送的数据</span></span>
<span class="line">    <span class="token keyword">const</span> data <span class="token operator">=</span> event<span class="token punctuation">.</span>data<span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 进行一些耗时的计算</span></span>
<span class="line">    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        result <span class="token operator">+=</span> i<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment">// 将计算结果发送回主线程</span></span>
<span class="line">    self<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code><span class="line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Web Worker Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>startWorker<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Start Worker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line">      <span class="token keyword">const</span> startWorkerButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;startWorker&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      startWorkerButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 创建一个新的 Worker 实例</span></span>
<span class="line">        <span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&#39;worker.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 向 Worker 发送数据</span></span>
<span class="line">        worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 监听 Worker 发送回来的消息</span></span>
<span class="line">        worker<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">const</span> result <span class="token operator">=</span> event<span class="token punctuation">.</span>data<span class="token punctuation">;</span></span>
<span class="line">          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;计算结果: &#39;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">          <span class="token comment">// 任务完成后终止 Worker</span></span>
<span class="line">          worker<span class="token punctuation">.</span><span class="token function">terminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-concat" tabindex="-1"><a class="header-anchor" href="#_3-concat"><span>3.concat</span></a></h3><p>Array.concat(arr) 用于合并两个或多个数组。此方法不会更改现有数组，而是返回一个新数组。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;c&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> array2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;d&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;e&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;f&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> array4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;d&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;e&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;f&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> array5 <span class="token operator">=</span> array1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>array2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> array6 <span class="token operator">=</span> array1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>array2<span class="token punctuation">,</span> array4<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要注意的是，concat还可以往数组里面添加单个数据，例如：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">const</span> arr2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment">// [1,2,5,10]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-reduce" tabindex="-1"><a class="header-anchor" href="#_4-reduce"><span>4.reduce</span></a></h3><p>Array.reduce(callback,initval) 用于数组求和/乘积/去重/扁平数组</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token comment">// 扁平数组</span></span>
<span class="line"><span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> pre<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>  </span>
<span class="line"><span class="token comment">// 求和</span></span>
<span class="line"><span class="token keyword">let</span> sum <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span>cur</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> pre <span class="token operator">+</span> cur</span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 乘积</span></span>
<span class="line"><span class="token keyword">let</span> slu <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span>cur</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> pre <span class="token operator">*</span> cur</span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>slu<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token comment">// 去重</span></span>
<span class="line"><span class="token keyword">let</span> slus <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span>cur</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>pre<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> pre<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> pre</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-vue-react都是单页面应用-如何做ssr" tabindex="-1"><a class="header-anchor" href="#_5-vue-react都是单页面应用-如何做ssr"><span>5.vue/react都是单页面应用，如何做ssr</span></a></h3><p>v<!---->e 使用脚手架 n<!---->xt.js</p><p>r<!---->act 使用脚手架 n<!---->xt.js</p><p><img src="https://cdn.nlark.com/yuque/0/2024/svg/1460947/1723169760501-330b5cbc-01e8-4d78-a5f0-3129cd62d67b.svg" alt=""></p><h3 id="_6-js修改css-变量的值" tabindex="-1"><a class="header-anchor" href="#_6-js修改css-变量的值"><span>6.js修改css 变量的值</span></a></h3><p>setProperty用来修改自定义属性</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">box<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&#39;--mainColor&#39;</span><span class="token punctuation">,</span>val<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_7-spa单页面应用首屏加载慢优化方案" tabindex="-1"><a class="header-anchor" href="#_7-spa单页面应用首屏加载慢优化方案"><span>7.SPA单页面应用首屏加载慢优化方案</span></a></h3><p><strong>a.网络性能优化</strong></p><p>a1.<!----></p><!----><!----><!----><!----><!----><p><strong><!----></strong></p><!----><!----><!----><p><strong><!----></strong></p><h3 id="_8-window-performance-timing-在浏览器的地址栏中输入一个域名并按下回车键后发生了什么" tabindex="-1"><a class="header-anchor" href="#_8-window-performance-timing-在浏览器的地址栏中输入一个域名并按下回车键后发生了什么"><span>8.Window.performance.timing(<!----></span></a></h3><!----><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1460947/1734160521263-aa8c29e5-a581-42a2-a746-38eb18754042.png" alt=""></p><ul><li>navigationStart：用户开始导航到页面的时间（例如，点击链接、提交表单等）。</li><li>redirectStart 和 redirectEnd：如果存在重定向，这两个属性分别表示重定向开始和结束的时间。</li><li>fetchStart：浏览器准备好使用HTTP请求获取文档资源的时间。</li><li>domainLookupStart 和 domainLookupEnd：DNS查询开始和结束的时间。</li><li>connectStart 和 connectEnd：TCP连接建立开始和结束的时间（包括TLS握手时间，如果有）。</li><li>secureConnectionStart：TLS握手开始的时间（仅适用于HTTPS页面）。</li><li>requestStart：浏览器发出HTTP请求的时间。</li><li>responseStart 和 responseEnd：服务器开始和完成响应的时间。</li><li>domLoading：浏览器开始解析DOM的时间。</li><li>domInteractive：浏览器完成解析DOM的时间，但可能还有未加载的子资源（如图片、样式表）。</li><li>domContentLoadedEventStart 和 domContentLoadedEventEnd：DOMContentLoaded 事件触发的开始和结束时间。</li><li>domComplete：所有资源都已加载完成的时间。</li><li>loadEventStart 和 loadEventEnd：load 事件触发的开始和结束时间。</li></ul><h4 id="在浏览器的地址栏中输入一个域名并按下回车键后发生了什么" tabindex="-1"><a class="header-anchor" href="#在浏览器的地址栏中输入一个域名并按下回车键后发生了什么"><span><!----></span></a></h4><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1460947/1734161835437-55a6ba70-21d0-4592-aad7-0164c51275e0.png" alt=""></p><p><strong>TCP连接三次握手：</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1460947/1734163147377-7b99ed25-0020-40a8-ae2a-94b1bc60f83c.png" alt=""></p><p><strong>TLS/SSR握手：</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1460947/1734164257192-860592c8-d729-4216-b9c1-bbab922fd557.png" alt=""></p><p><strong>浏览器渲染页面流程：</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1460947/1734169125334-2d615755-144a-415a-ae7f-e1da5755f684.png" alt=""></p><ul><li>回流（位置、尺寸，窗口改变等，另外获取offsetTop|clientWidth|scrollTop等属性也会导致回流）改变了布局，一定会造成重绘；</li><li>重绘（颜色，阴影，位移-tranform）不一定产生回流。</li></ul><p><strong>事件循环：</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1460947/1734165837195-1bbd5a71-051d-43e9-829e-e9d2ce0d7d13.png" alt=""></p><h3 id="_9-border绘制三角形的原理" tabindex="-1"><a class="header-anchor" href="#_9-border绘制三角形的原理"><span>9.border绘制三角形的原理</span></a></h3><p>给4个边分别不通色的，增加border宽度会发现四周并不是矩形，而是梯形；继续加大边框，梯形面积越来越多，中心区域越来越小；当足够大时，4个边框变成了三角形。</p><p><img src="https://cdn.nlark.com/yuque/0/2024/png/1460947/1734170049526-bf5319df-2abd-4ac0-aa7e-24e0fe9000a2.png" alt=""></p><p>最后需要那个方向的三角，就将另外三个边颜色设置成透明色。</p><h3 id="_10-reflect" tabindex="-1"><a class="header-anchor" href="#_10-reflect"><span>10.Reflect</span></a></h3><p>reflect是ES6引入内置对象，<!----><strong><!----></strong><!----></p><h5 id="reflect-get-obj-key-this-取值" tabindex="-1"><a class="header-anchor" href="#reflect-get-obj-key-this-取值"><span><!----></span></a></h5><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span>  <span class="token comment">// 1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="reflect-set-obj-key-value-赋值" tabindex="-1"><a class="header-anchor" href="#reflect-set-obj-key-value-赋值"><span><!----></span></a></h5><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// 等同于赋值 obj.a = 2</span></span>
<span class="line">Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="reflect-has-target-目标对象-key-检查属性是否存在" tabindex="-1"><a class="header-anchor" href="#reflect-has-target-目标对象-key-检查属性是否存在"><span>Reflect.has(target-目标对象, key) - 检查属性是否存在</span></a></h5><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h5 id="reflect-apply-targetfn-目标函数-thisarg-this指向-arglist-实参-apply改变指向" tabindex="-1"><a class="header-anchor" href="#reflect-apply-targetfn-目标函数-thisarg-this指向-arglist-实参-apply改变指向"><span>Reflect.apply(targetFn-目标函数, thisArg-this指向, argList-实参) - apply改变指向</span></a></h5><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token function">Reflect</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>floor<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1.75</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// 1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h5 id="reflect-ownkeys-target-返回目标属性组成的数组" tabindex="-1"><a class="header-anchor" href="#reflect-ownkeys-target-返回目标属性组成的数组"><span>Reflect.ownKeys(target) - 返回目标属性组成的数组</span></a></h5><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ &quot;z&quot;, &quot;y&quot;, &quot;x&quot; ]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h5 id="reflect-getprototypeof-target-返回对象的原型" tabindex="-1"><a class="header-anchor" href="#reflect-getprototypeof-target-返回对象的原型"><span>Reflect.getPrototypeOf(target) - 返回对象的原型</span></a></h5><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">Reflect<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Object.prototype</span></span>
<span class="line">Reflect<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="reflect-setprototypeof-设置对象的原型-并返回操作结果-true-false" tabindex="-1"><a class="header-anchor" href="#reflect-setprototypeof-设置对象的原型-并返回操作结果-true-false"><span>Reflect.setPrototypeOf() - 设置对象的原型，并返回操作结果（true/false）</span></a></h5><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">let</span> obj <span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">Reflect<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="reflect-isextensible-target-判断对象是否可扩展-返回布尔值" tabindex="-1"><a class="header-anchor" href="#reflect-isextensible-target-判断对象是否可扩展-返回布尔值"><span>Reflect.isExtensible(target) - 判断对象是否可扩展，返回布尔值</span></a></h5><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">let</span> obj <span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">Reflect<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>  <span class="token comment">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="reflect-preventextensions-target-设置对象不可扩展" tabindex="-1"><a class="header-anchor" href="#reflect-preventextensions-target-设置对象不可扩展"><span>Reflect.preventExtensions(target) - 设置对象不可扩展</span></a></h5><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> object1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>object1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line">Reflect<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>object1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>object1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="reflect-defineproperty-target-对象-key-属性-attributes-属性描述-添加修改对象的数下-返回执行结果-true-false" tabindex="-1"><a class="header-anchor" href="#reflect-defineproperty-target-对象-key-属性-attributes-属性描述-添加修改对象的数下-返回执行结果-true-false"><span>Reflect.defineProperty(target-对象, key-属性, attributes-属性描述) - 添加修改对象的数下，返回执行结果（true/false）</span></a></h5><p>同Object.defineProperty</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">Reflect<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;x&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="reflect-deleteproperty-target-对象-key-删除对象属性-返回操作结果-true-false" tabindex="-1"><a class="header-anchor" href="#reflect-deleteproperty-target-对象-key-删除对象属性-返回操作结果-true-false"><span>Reflect.deleteProperty(target-对象, key) - 删除对象属性，返回操作结果（true/false）</span></a></h5><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// {y:2}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="reflect-getownpropertydescriptor-target-key-获取对象属性描述" tabindex="-1"><a class="header-anchor" href="#reflect-getownpropertydescriptor-target-key-获取对象属性描述"><span>Reflect.getOwnPropertyDescriptor(target, key) - 获取对象属性描述</span></a></h5><p>同Object.getOwnPropertyDescriptor()</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">Reflect<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token comment">// {value: &quot;hello&quot;, writable: true, enumerable: true, configurable: true}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11-proxy" tabindex="-1"><a class="header-anchor" href="#_11-proxy"><span>11.<!----></span></a></h3><!----><!----><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token operator">-</span>对象<span class="token punctuation">,</span> handler<span class="token operator">-</span>代理操作<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>代理操作支持Reflect的全部子方法（同9），如果代理操作没有重写的方法，就走对象自身的方法。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">//代理对象</span></span>
<span class="line"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// 代理方法</span></span>
<span class="line"><span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function-variable function">get</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> key <span class="token keyword">in</span> target <span class="token operator">?</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token comment">// set/has.....</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span> obj<span class="token punctuation">,</span> handler<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">p<span class="token punctuation">.</span>a  <span class="token comment">// 1</span></span>
<span class="line">p<span class="token punctuation">.</span>b  <span class="token comment">// 5</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-怪异模式下盒子模型" tabindex="-1"><a class="header-anchor" href="#_12-怪异模式下盒子模型"><span>12.怪异模式下盒子模型</span></a></h3><p>怪异盒子（非标准盒子模型），渲染一些老旧浏览器的兼容模式。<!----></p><!----><div class="language-jsx line-numbers-mode" data-highlighter="prismjs" data-ext="jsx"><pre><code><span class="line">内容宽度 <span class="token operator">=</span> 内容区域 <span class="token operator">+</span> 左右padding之和 <span class="token operator">+</span> 左右border<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>另外，只要html开头是**<!---->**的都会进入怪异模式（兼容模式）。换句话说，写错或少写html开头都是怪异模式产生的原因。</p><p><strong>标准模型：内容区域是独立的！</strong></p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/1460947/1739328931097-87b0bb81-35c1-4381-9c51-509bc8847511.png" alt=""></p><p>标准盒子模型转换成怪异盒子模型：</p><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code><span class="line"><span class="token selector">div</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">box-sizing</span><span class="token punctuation">:</span>border-box<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-伪类和伪元素区别" tabindex="-1"><a class="header-anchor" href="#_13-伪类和伪元素区别"><span>13.伪类和伪元素区别</span></a></h3><p>伪类是用于元素添加交互状态，如：“:hover”、“:active”、“:foucs”等。</p><p>伪元素是用于不添加html标签，用css创造一个“假”元素，如：“::before”、“::after”。</p><h3 id="_14-原型及原型链" tabindex="-1"><a class="header-anchor" href="#_14-原型及原型链"><span>14.原型及原型链</span></a></h3><!----><h4 id="函数原型-prototype" tabindex="-1"><a class="header-anchor" href="#函数原型-prototype"><span>函数原型<!----></span></a></h4><!---->**<!---->**<!----><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;Alice&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> person2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;Bob&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">person1<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello, my name is Alice</span></span>
<span class="line">person2<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello, my name is Bob</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><!---->**<!---->**<!----></li><li><!----></li></ul><h4 id="对象属性-原型访问器-proto" tabindex="-1"><a class="header-anchor" href="#对象属性-原型访问器-proto"><span><!----><!----><!----></span></a></h4><p>每个对象都有一个属性[[Prototype]]，它指向当前对象的原型。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">person1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> person2<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype   <span class="token comment">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><!----></li><li><!----></li></ul><h4 id="原型链-prototype-chain" tabindex="-1"><a class="header-anchor" href="#原型链-prototype-chain"><span><!----><strong><!----></strong><!----></span></a></h4><p><strong><!----></strong>。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Eating...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span></span>
<span class="line"><span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bark</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Barking...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> myDog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">myDog<span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Barking...</span></span>
<span class="line">myDog<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Eating...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下是案例的方法属性查找**<!---->**：</p><ul><li>myDog 的原型是 Dog.prototype。</li><li>Dog.prototype 的原型是 Animal.prototype。</li><li>Animal.prototype 的原型是 Object.prototype。</li><li>Object.prototype 的原型是 null，这是原型链的终点。</li></ul><h3 id="_15-函数上下文-this" tabindex="-1"><a class="header-anchor" href="#_15-函数上下文-this"><span>15.函数上下文（this）</span></a></h3><!---->**<!---->**<!----><h4 id="this指向" tabindex="-1"><a class="header-anchor" href="#this指向"><span><!----></span></a></h4><ul><li>浏览器环境全局作用域中，指向window；</li><li>函数中，this的指向取决于函数的调用方式（ <ol><li>显式绑定：可以使用call、apply或者bind方法强制指定this的指向</li><li>隐式绑定：当函数作为对象的方法被调用时，this指向该对象</li><li>new绑定：使用new来调用一个构造函数时，this指向新创建的对象</li></ol></li></ul><p>）</p><ul><li>箭头函数不提供this，有箭头函数外层决定this指向。</li></ul><h4 id="修改this指向" tabindex="-1"><a class="header-anchor" href="#修改this指向"><span><!----></span></a></h4><p>call、apply 和 bind 是 JavaScript 中用于改变函数执行上下文（即 this 指向）的三个重要方法。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">function</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">function</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> <span class="token punctuation">[</span>argsArray<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">function</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span>color <span class="token operator">=</span> <span class="token string">&#39;White&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hi, my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and I am </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old. I like </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Bind&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">28</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Call&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">66</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Apply&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token function">sayHi</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;pink&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">sayHi</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span> <span class="token string">&quot;Red&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">sayHi</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj3<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;Blue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>三者对比：</p><table><thead><tr><th><strong><!----></strong></th><th><strong><!----></strong></th><th><strong><!----></strong></th><th><strong><!----></strong></th></tr></thead><tbody><tr><td>call</td><td><!----></td><td><!----></td><td><!----></td></tr><tr><td>apply</td><td><!----></td><td><!----></td><td><!----></td></tr><tr><td>bind</td><td><!----></td><td><!----></td><td><strong><!----></strong><br><strong><!----></strong></td></tr></tbody></table><p>应用场景：</p><ul><li>call 和 apply：实现继承，让子类可以调用父类的构造函数。</li><li>bind：为事件处理函数绑定特定的 this 值。</li></ul><h3 id="_16-vue混入mixin" tabindex="-1"><a class="header-anchor" href="#_16-vue混入mixin"><span>16.vue混入Mixin</span></a></h3><p>vue的混入mixin是一种<!----></p><!----><!----><ul><li><!----></li><li><!----></li></ul><h4 id="共享逻辑" tabindex="-1"><a class="header-anchor" href="#共享逻辑"><span>共享逻辑</span></a></h4><p>将共用的函数抽离，多组件共同使用。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// 定义一个 mixin</span></span>
<span class="line"><span class="token keyword">const</span> sharedMethods <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token parameter">date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function">logMessage</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[LOG]: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 使用 mixin 的组件</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>sharedMethods<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">showToday</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">logMessage</span><span class="token punctuation">(</span><span class="token string">&#39;今天是：&#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="共享状态及生命周期" tabindex="-1"><a class="header-anchor" href="#共享状态及生命周期"><span><!----></span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// 定义一个 mixin</span></span>
<span class="line"><span class="token keyword">const</span> mapMixin <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">mapInstance</span><span class="token operator">:</span> <span class="token keyword">null</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>mapInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MapLibrary<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>mapContainer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mapInstance<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>mapInstance<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 使用 mixin 的组件</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>mapMixin<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div ref=&quot;mapContainer&quot;&gt;&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!----><h4 id="混入合并规则" tabindex="-1"><a class="header-anchor" href="#混入合并规则"><span><!----></span></a></h4><ul><li>生命周期钩子，先执行mixin里面钩子，再执行组件的钩子；</li><li>methods选项函数重名，组件函数会覆盖mixin的函数；</li><li>data属性重名，组件会覆盖mixin的属性；</li></ul><h3 id="_17-vue2-响应式数组有哪些限制-如何解决这些限制" tabindex="-1"><a class="header-anchor" href="#_17-vue2-响应式数组有哪些限制-如何解决这些限制"><span>17.vue2**<!---->**</span></a></h3><p><strong>主要限制</strong>：</p><ul><li><!----><!----><!----><!----></li><li><!----><!---->**<!---->**<!----><!----></li><li><!----><!----><!----><!----><!----></li></ul><p><strong><!----></strong></p><ul><li>使用vue提供的数组变异方法：push(), pop(), shift(), unshift(), splice(), sort(), reverse()。</li><li>替换整个数组，强制刷新。</li><li>使用 Vue.set 或 vm.$set修改数组中对象属性。</li><li>使用splice 更改数组长度。</li></ul><!----><h3 id="_18-canvas绘制的图形模糊有锯齿如何解决" tabindex="-1"><a class="header-anchor" href="#_18-canvas绘制的图形模糊有锯齿如何解决"><span><!----></span></a></h3><p>高分辨率设备（如 Retina 显示屏）上使用 canvas 时，由于设备的物理像素密度较高，Canvas 的默认绘图可能会显得模糊。</p><p>解决方案：采用<strong>原始尺寸</strong> ** * ** <strong><!----></strong><!----></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// 设置 Canvas 的逻辑尺寸（CSS 尺寸）</span></span>
<span class="line"><span class="token keyword">const</span> logicalWidth <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span> <span class="token comment">// 逻辑宽度</span></span>
<span class="line"><span class="token keyword">const</span> logicalHeight <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span> <span class="token comment">// 逻辑高度</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> dpr <span class="token operator">=</span> window<span class="token punctuation">.</span>devicePixelRatio <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 设置 Canvas 的实际分辨率</span></span>
<span class="line">canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> logicalWidth <span class="token operator">*</span> dpr<span class="token punctuation">;</span></span>
<span class="line">canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> logicalHeight <span class="token operator">*</span> dpr<span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 缩放绘图上下文</span></span>
<span class="line">ctx<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span>dpr<span class="token punctuation">,</span> dpr<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_19-abortcontroller控制器对象" tabindex="-1"><a class="header-anchor" href="#_19-abortcontroller控制器对象"><span>19.<!----></span></a></h3><!----><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> signal <span class="token punctuation">}</span> <span class="token operator">=</span> controller<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><!----><p><img src="https://cdn.nlark.com/yuque/0/2025/jpeg/1460947/1745204257296-5223f730-a430-4294-8bc2-12fb357803a0.jpeg" alt=""></p><!----><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> signal <span class="token punctuation">}</span> <span class="token operator">=</span> controller<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.example.com/data&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> signal <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&#39;AbortError&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;请求已取消&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 中止请求</span></span>
<span class="line">controller<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!----><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// 旧方案：</span></span>
<span class="line">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 新方案：</span></span>
<span class="line"><span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> controller<span class="token punctuation">.</span>signal <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 通过. abort() 方法移除事件处理函数</span></span>
<span class="line">controller<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_20-babel-js-的用途" tabindex="-1"><a class="header-anchor" href="#_20-babel-js-的用途"><span>20.babel.js 的用途</span></a></h3><!----><ul><li><strong><!----></strong></li><li><strong><!----></strong></li><li><strong><!---->****<!----></strong></li></ul><p><strong><!----></strong></p><h3 id="_21-vue子页面如何阻止父路由跳转" tabindex="-1"><a class="header-anchor" href="#_21-vue子页面如何阻止父路由跳转"><span><!----></span></a></h3><p>在后台开发中，停留子页面时候，如何点了全局的路由跳转，如何拦截？</p><p>答案：子页面使用 **<!---->****<!---->**钩子捕获。</p><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue"><pre><code><span class="line">beforeRouteLeave(to, from, next) {</span>
<span class="line">  const answer = window.confirm(&#39;确定离开已编辑的页面吗？此操作不可恢复。&#39;);</span>
<span class="line">  if (answer) {</span>
<span class="line">    next();</span>
<span class="line">  } else {</span>
<span class="line">    next(false);</span>
<span class="line">  }</span>
<span class="line">},</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_22-promise-all接收的参数是什么" tabindex="-1"><a class="header-anchor" href="#_22-promise-all接收的参数是什么"><span>22.Promise.all接收的参数是什么？</span></a></h3><p>Promise.all( [ p1, p2 ] ) <!----></p><!----><!---->**<!---->**<!----><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> p1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> p3 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Alice&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">values</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, &quot;foo&quot;, { name: &#39;Alice&#39; }]</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_23-vue3有哪些新特性" tabindex="-1"><a class="header-anchor" href="#_23-vue3有哪些新特性"><span>23.Vue3有哪些新特性？</span></a></h3><p>vue3相比于vue2x版本，主要体现在 “更快，更小，更便于维护”。</p><h4 id="对比差异" tabindex="-1"><a class="header-anchor" href="#对比差异"><span>对比差异</span></a></h4><ul><li><p><strong>更快</strong></p><pre><code>更快体现在源码的改动：重构**&lt;font style=&quot;color:#2F4BDA;&quot;&gt;虚拟DOM&lt;/font&gt;**、**&lt;font style=&quot;color:#2F4BDA;&quot;&gt;事件缓存&lt;/font&gt;**、基于**&lt;font style=&quot;color:#2F4BDA;&quot;&gt;Proxy的响应式对象&lt;/font&gt;**。
</code></pre><ol><li>虚拟DOM，通过diff算法，只更新改变的部分，其余静态内容就地复用，减少资源浪费。</li><li>事件缓存，通过事件缓存对象cacheHandlers缓存事件，事件再次触发不再重新生成函数。</li><li>响应式对象，利用ES 6的Proxy API来实现数据劫持，不再进行递归遍历劫持数据。</li></ol></li><li><p><strong>更小</strong></p><pre><code>更小是指vue3打包后的资源更小。主要依赖ES6的**&lt;font style=&quot;color:#7E45E8;&quot;&gt;静态结构特性，未引用的代码不参与打包&lt;/font&gt;**，因此更小。
</code></pre></li><li><p><strong>更便于维护</strong></p><pre><code>便于维护也体现在源码，引入了**&lt;font style=&quot;color:#07787E;&quot;&gt;TypeScript、重构了源码目录&lt;/font&gt;**等。
</code></pre></li></ul><h4 id="新特性" tabindex="-1"><a class="header-anchor" href="#新特性"><span>新特性</span></a></h4><ul><li><strong>组合式API</strong></li></ul><p>vue2 基于配置的组件写法称为Options API（配置式API） , Composition API（组合式API）通过setup语法糖进行自由组合。</p><ul><li><strong>新增内置组件 Teleport 、Suspense 、Fragments片段等</strong><ol><li>Teleport <!----></li></ol></li></ul><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code><span class="line">&lt;teleport to=<span class="token string">&quot;body&quot;</span>&gt;</span>
<span class="line">  &lt;div class=<span class="token string">&quot;modal&quot;</span>&gt;</span>
<span class="line">    &lt;p&gt;这是一个模态框&lt;/p&gt;</span>
<span class="line">  &lt;/div&gt;</span>
<span class="line">&lt;/teleport&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>2. Suspense &lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;处理异步依赖的组件树。适用于懒加载等场景。&lt;/font&gt;
</code></pre><div class="language-css line-numbers-mode" data-highlighter="prismjs" data-ext="css"><pre><code><span class="line"> &lt;Suspense&gt;</span>
<span class="line">    &lt;!-- 默认插槽：要等待的内容 --&gt;</span>
<span class="line">    &lt;template #default&gt;</span>
<span class="line">      &lt;AsyncComponent /&gt;</span>
<span class="line">    &lt;/template&gt;</span>
<span class="line"></span>
<span class="line">    &lt;!-- fallback 插槽：加载时显示的内容 --&gt;</span>
<span class="line">    &lt;template #fallback&gt;</span>
<span class="line">      &lt;div&gt;加载中，请稍候...&lt;/div&gt;</span>
<span class="line">    &lt;/template&gt;</span>
<span class="line">  &lt;/Suspense&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>3. Fragments   不再用在template中强制包裹一个根元素。 
</code></pre><ul><li><strong>服务端渲染</strong></li></ul><p>vue3优化了返回html的逻辑，更利于SEO。</p><h4 id="vite" tabindex="-1"><a class="header-anchor" href="#vite"><span>Vite</span></a></h4><p>Vue团队也推出了自己的开发构建工具Vite，特性：快速的冷启动、模块热更新、 按需编译。</p><h3 id="_24-performance-和-new-date-的区别" tabindex="-1"><a class="header-anchor" href="#_24-performance-和-new-date-的区别"><span>24.<!----></span></a></h3><ul><li><!---->**<!---->**<!----></li><li><!----></li></ul><p>特点：微妙级别更精准、不受时钟影响（更适合测量时间间隔）</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// 获取基准时间（navigationStart 时间点）</span></span>
<span class="line"><span class="token keyword">const</span> navigationStart <span class="token operator">=</span> performance<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>navigationStart<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 获取从 navigationStart 开始的高精度时间差（毫秒）</span></span>
<span class="line"><span class="token keyword">const</span> duration <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 计算出对应的真实时间戳</span></span>
<span class="line"><span class="token keyword">const</span> realTimestamp <span class="token operator">=</span> navigationStart <span class="token operator">+</span> duration<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 转换成可读的日期时间</span></span>
<span class="line"><span class="token keyword">const</span> realDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>realTimestamp<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;真实时间：&quot;</span><span class="token punctuation">,</span> realDate<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_25-addeventlistener-的第三个参数" tabindex="-1"><a class="header-anchor" href="#_25-addeventlistener-的第三个参数"><span>25.addEventListener 的第三个参数</span></a></h3><p>监听器的第三个参数，用来管理监听执行时是否是冒泡，捕获，或者一次性监听等。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">Dom<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> params <span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>eventType ，常见事件类型：click, hover, keydown...</li><li>handler ，回调函数</li><li>params ， 用来判断是捕获还是冒泡，默认是冒泡 - false; once - 只执行一次 ; passive - 承诺此事件监听不会调用 preventDefault，这有助于性能。传once和passive时，必须是字符串。</li></ul><h3 id="_26-nexttick是什么" tabindex="-1"><a class="header-anchor" href="#_26-nexttick是什么"><span>26.NextTick是什么？</span></a></h3><p>当数据发生变化时，Vue 并不会立即更新 DOM，而是将这些变化放入一个队列中，并在同一事件循环结束后统一进行更新。不然，假设数据改变100次就要去更新100次DOM，是非浪费性能！</p><p>nexttick 的作用就是 <strong><!----></strong>。</p><p><strong><!----></strong></p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/md/assets/app-DMoYNb1f.js" defer></script>
  </body>
</html>
